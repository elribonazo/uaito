<div style="display:flex; flex-direction:column; align-items:center;">
<p align="center">
  <img src="../UAITO.png" alt="UAITO Logo" width="200"/>
</p>

<p align="center">
  <strong>A unified TypeScript SDK for seamless interaction with various Large Language Models.</strong>
</p>
</div>

[Documentation](README.md) / [@uaito/huggingface](@uaito.huggingface.md) / HuggingFaceONNXChatTemplates

# Enumeration: HuggingFaceONNXChatTemplates

Defined in: [types.ts:57](https://github.com/elribonazo/uaito/blob/3bf7d75cb3f0e893e3a107b0621b24cb705e58bb/packages/huggingFace/src/types.ts#L57)

An enumeration of chat templates for formatting conversation history.
These templates are specific to certain Hugging Face models and ensure that
the input is structured correctly for the model to understand.

## Enumeration Members

| Enumeration Member | Value | Description | Defined in |
| ------ | ------ | ------ | ------ |
| <a id="lfm2"></a> `LFM2` | "\{\{- bos\_token -\}\}\{%- set system\_prompt = \"\" -%\}\{%- set ns = namespace(system\_prompt=\"\") -%\}\{%- if messages\[0\]\[\"role\"\] == \"system\" -%\} \{%- set ns.system\_prompt = messages\[0\]\[\"content\"\] -%\} \{%- set messages = messages\[1:\] -%\}\{%- endif -%\}\{%- if tools -%\} \{%- set ns.system\_prompt = ns.system\_prompt + (\"\n\" if ns.system\_prompt else \"\") + \"List of tools: \<\|tool\_list\_start\|\>\[\" -%\} \{%- for tool in tools -%\} \{%- if tool is not string -%\} \{%- set tool = tool \| tojson -%\} \{%- endif -%\} \{%- set ns.system\_prompt = ns.system\_prompt + tool -%\} \{%- if not loop.last -%\} \{%- set ns.system\_prompt = ns.system\_prompt + \", \" -%\} \{%- endif -%\} \{%- endfor -%\} \{%- set ns.system\_prompt = ns.system\_prompt + \"\]\<\|tool\_list\_end\|\>\" -%\}\{%- endif -%\}\{%- if ns.system\_prompt -%\} \{\{- \"\<\|im\_start\|\>system\n\" + ns.system\_prompt + \"\<\|im\_end\|\>\n\" -\}\}\{%- endif -%\}\{%- for message in messages -%\} \{\{- \"\<\|im\_start\|\>\" + message\[\"role\"\] + \"\n\" -\}\} \{%- set content = message\[\"content\"\] -%\} \{%- if content is not string -%\} \{%- set content = content \| tojson -%\} \{%- endif -%\} \{%- if message\[\"role\"\] == \"tool\" -%\} \{%- set content = \"\<\|tool\_response\_start\|\>\" + content + \"\<\|tool\_response\_end\|\>\" -%\} \{%- endif -%\} \{\{- content + \"\<\|im\_end\|\>\n\" -\}\}\{%- endfor -%\}\{%- if add\_generation\_prompt -%\} \{\{- \"\<\|im\_start\|\>assistant\n\" -\}\}\{%- endif -%\}" | A chat template for the LFM2 model series. | [types.ts:61](https://github.com/elribonazo/uaito/blob/3bf7d75cb3f0e893e3a107b0621b24cb705e58bb/packages/huggingFace/src/types.ts#L61) |
| <a id="med"></a> `MED` | "\{\{- bos\_token \}\}\n\{%- if custom\_tools is defined %\}\n \{%- set tools = custom\_tools %\}\n\{%- endif %\}\n\{%- if not tools\_in\_user\_message is defined %\}\n \{%- set tools\_in\_user\_message = true %\}\n\{%- endif %\}\n\{%- if not date\_string is defined %\}\n \{%- if strftime\_now is defined %\}\n \{%- set date\_string = strftime\_now(\"%d %b %Y\") %\}\n \{%- else %\}\n \{%- set date\_string = \"26 Jul 2024\" %\}\n \{%- endif %\}\n\{%- endif %\}\n\{%- if not tools is defined %\}\n \{%- set tools = none %\}\n\{%- endif %\}\n\n\{#- This block extracts the system message, so we can slot it into the right place. #\}\n\{%- if messages\[0\]\['role'\] == 'system' %\}\n \{%- set system\_message = messages\[0\]\['content'\]\|trim %\}\n \{%- set messages = messages\[1:\] %\}\n\{%- else %\}\n \{%- set system\_message = \"\" %\}\n\{%- endif %\}\n\n\{#- System message #\}\n\{\{- \"\<\|start\_header\_id\|\>system\<\|end\_header\_id\|\>\n\n\" \}\}\n\{%- if tools is not none %\}\n \{\{- \"Environment: ipython\n\" \}\}\n\{%- endif %\}\n\{\{- \"Cutting Knowledge Date: December 2023\n\" \}\}\n\{\{- \"Today Date: \" + date\_string + \"\n\n\" \}\}\n\{%- if tools is not none and not tools\_in\_user\_message %\}\n \{\{- \"You have access to the following functions. To call a function, please respond with JSON for a function call.\" \}\}\n \{\{- 'Respond in the format \{\"name\": function name, \"parameters\": dictionary of argument name and its value\}.' \}\}\n \{\{- \"Do not use variables.\n\n\" \}\}\n \{%- for t in tools %\}\n \{\{- t \| tojson(indent=4) \}\}\n \{\{- \"\n\n\" \}\}\n \{%- endfor %\}\n\{%- endif %\}\n\{\{- system\_message \}\}\n\{\{- \"\<\|eot\_id\|\>\" \}\}\n\n\{#- Custom tools are passed in a user message with some extra guidance #\}\n\{%- if tools\_in\_user\_message and not tools is none %\}\n \{#- Extract the first user message so we can plug it in here #\}\n \{%- if messages \| length != 0 %\}\n \{%- set first\_user\_message = messages\[0\]\['content'\]\|trim %\}\n \{%- set messages = messages\[1:\] %\}\n \{%- else %\}\n \{\{- raise\_exception(\"Cannot put tools in the first user message when there's no first user message!\") \}\}\n\{%- endif %\}\n \{\{- '\<\|start\_header\_id\|\>user\<\|end\_header\_id\|\>\n\n' -\}\}\n \{\{- \"Given the following functions, please respond with a JSON for a function call \" \}\}\n \{\{- \"with its proper arguments that best answers the given prompt.\n\n\" \}\}\n \{\{- 'Respond in the format \{\"name\": function name, \"parameters\": dictionary of argument name and its value\}.' \}\}\n \{\{- \"Do not use variables.\n\n\" \}\}\n \{%- for t in tools %\}\n \{\{- t \| tojson(indent=4) \}\}\n \{\{- \"\n\n\" \}\}\n \{%- endfor %\}\n \{\{- first\_user\_message + \"\<\|eot\_id\|\>\"\}\}\n\{%- endif %\}\n\n\{%- for message in messages %\}\n \{%- if not (message.role == 'ipython' or message.role == 'tool' or 'tool\_calls' in message) %\}\n \{\{- '\<\|start\_header\_id\|\>' + message\['role'\] + '\<\|end\_header\_id\|\>\n\n'+ message\['content'\] \| trim + '\<\|eot\_id\|\>' \}\}\n \{%- elif 'tool\_calls' in message %\}\n \{%- if not message.tool\_calls\|length == 1 %\}\n \{\{- raise\_exception(\"This model only supports single tool-calls at once!\") \}\}\n \{%- endif %\}\n \{%- set tool\_call = message.tool\_calls\[0\].function %\}\n \{\{- '\<\|start\_header\_id\|\>assistant\<\|end\_header\_id\|\>\n\n' -\}\}\n \{\{- '\{\"name\": \"' + tool\_call.name + '\", ' \}\}\n \{\{- '\"parameters\": ' \}\}\n \{\{- tool\_call.arguments \| tojson \}\}\n \{\{- \"\}\" \}\}\n \{\{- \"\<\|eot\_id\|\>\" \}\}\n \{%- elif message.role == \"tool\" or message.role == \"ipython\" %\}\n \{\{- \"\<\|start\_header\_id\|\>ipython\<\|end\_header\_id\|\>\n\n\" \}\}\n \{%- if message.content is mapping or message.content is iterable %\}\n \{\{- message.content \| tojson \}\}\n \{%- else %\}\n \{\{- message.content \}\}\n \{%- endif %\}\n \{\{- \"\<\|eot\_id\|\>\" \}\}\n \{%- endif %\}\n\{%- endfor %\}\n\{%- if add\_generation\_prompt %\}\n \{\{- '\<\|start\_header\_id\|\>assistant\<\|end\_header\_id\|\>\n\n' \}\}\n\{%- endif %\}" | A chat template for a medical notes model. | [types.ts:71](https://github.com/elribonazo/uaito/blob/3bf7d75cb3f0e893e3a107b0621b24cb705e58bb/packages/huggingFace/src/types.ts#L71) |
